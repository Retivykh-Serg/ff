<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>iFunnyFant</title>
		<meta name="description" content="Веселые фанты!" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="css/style.css" />
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
	</head>
	<body class="noselect">
		<div id="scores" style="display: none">
			<div>
				<span style="font-family: 'Wingdings 2';" class="close">&#x00d2;</span>
				<p>Статистика игры</p>
				<table class="table table-striped table-condensed">
				    <thead><tr><th>Игрок</th><th>Очки</th></thead>
				    <tbody data-bind="foreach: gamers">
				        <tr>
								  <td>
											<span data-bind="text: name"></span>
											<ul data-bind="foreach: status">
												<li data-bind="text: text"></li>
											</ul>
									</td>
									<td data-bind="text: wins"></td>
								</tr>
						</tbody>
				</table>
			</div>
		</div>

		<div id="main" class="color-main">
			<div id="aligner"  data-bind="css: alignerClass" class="aligner-gamers">
				<span id="players" data-bind="if: activeGamerId() >= 0, visible: step() != 'start'">
					<img src='img/users.png'/><br>
					<b data-bind="text: activeGamerName()"></b></span>

				<div id="task" data-bind="visible: step() == 'task', with: activeTask">
					<p id="fant-name" class="title" data-bind="text: name"></p>
					<p id="fant-text" class="text" data-bind="text: text"></p>
				</div>

				<div id="prepare" data-bind="if: activeGamerId() >= 0, visible: step() == 'wait'">
					<p class="text-prepare"  data-bind="text: greetingGamer, css: textClass"></p>
				</div>

				<div id="fail" data-bind="if: activeGamerId() >= 0 && activeFail(), visible: step() == 'fail'">
					<h3 class="title" data-bind="text: activeGamerName() + '!'"></h3>
					<p id="fant-text" class="text" data-bind="text:activeFail().text"></p>
				</div>

			</div>
		</div>


		<div id="btn-wrapper" class="text">
			<div id="btn-add-gamer" data-bind="visible: step() == 'start'">Еще игрок</div>
			<div id="btn-start-game" data-bind="visible: step() == 'start'">Поехали!</div>
			<div id="btn-fail" data-bind="visible: step() == 'task', click: goFail">Провал</div>
			<div id="btn-win" data-bind="visible: step() == 'task'">Успех</div>
			<div id="btn-user" data-bind="if: activeGamerId() >= 0, visible: step() == 'wait', css: colorClass, click: goTask">
				<span data-bind="text: iAmGamer"></span>
			</div>
			<div id="btn-ok" data-bind="visible: step() == 'fail', click: goWait">Готово</div>
		</div>

		<script type="text/javascript" src="js/knockout.js"></script>
		<script type="text/javascript" src="js/jquery-1.12.0.min.js"></script>
		<script type="text/javascript" src="data.json"></script>
		<script type="text/javascript" src="js/script-knockout.js"></script>
	</body>
</html>
